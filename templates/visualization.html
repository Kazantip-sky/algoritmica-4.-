<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Визуализация - Анализ абитуриентов</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
        }
        
        .navbar {
            background: linear-gradient(135deg, #3498db, #2c3e50);
        }
        
        .visualization-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .chart-container {
            margin: 20px 0;
            text-align: center;
        }
        
        .chart-image {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .chart-description {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <!-- Навигационная панель -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-chart-line me-2"></i>Анализ Абитуриентов
            </a>
        </div>
    </nav>

    <div class="container mt-5">
        <a href="/" class="btn btn-primary mb-4">
            <i class="fas fa-arrow-left me-2"></i>Назад к главной
        </a>
        
        <div class="visualization-card">
            <h1 class="mb-4">
                <i class="fas fa-chart-bar text-primary me-2"></i>Визуализация результатов
            </h1>
            
            <p class="lead mb-4">Графическое представление данных для лучшего понимания влияния подготовительных курсов на успеваемость абитуриентов из семей без высшего образования.</p>
        </div>
        
        <!-- Гистограмма распределения баллов -->
        <div class="visualization-card">
            <h3 class="mb-4">
                <i class="fas fa-chart-area me-2 text-success"></i>1. Распределение средних баллов
            </h3>
            <div class="chart-container">
                <img src="data:image/png;base64,{{ visualizations.histogram }}" alt="Гистограмма распределения" class="chart-image">
            </div>
            <div class="chart-description">
                <h5>Интерпретация:</h5>
                <p>Гистограмма показывает распределение средних баллов в двух группах. Абитуриенты, прошедшие подготовительные курсы (синий), имеют смещение распределения вправо, что указывает на более высокие средние баллы.</p>
            </div>
        </div>
        
        <!-- Box plot сравнения -->
        <div class="visualization-card">
            <h3 class="mb-4">
                <i class="fas fa-chart-box me-2 text-warning"></i>2. Box plot сравнения групп
            </h3>
            <div class="chart-container">
                <img src="data:image/png;base64,{{ visualizations.boxplot }}" alt="Box plot сравнения" class="chart-image">
            </div>
            <div class="chart-description">
                <h5>Интерпретация:</h5>
                <p>Box plot показывает медианные значения, квартили и выбросы. Видно, что медиана группы с курсами выше, а межквартильный размах меньше, что говорит о более стабильных результатах.</p>
            </div>
        </div>
        
        <!-- Сравнение по предметам -->
        <div class="visualization-card">
            <h3 class="mb-4">
                <i class="fas fa-chart-column me-2 text-danger"></i>3. Сравнение средних баллов по предметам
            </h3>
            <div class="chart-container">
                <img src="data:image/png;base64,{{ visualizations.subject_comparison }}" alt="Сравнение по предметам" class="chart-image">
            </div>
            <div class="chart-description">
                <h5>Интерпретация:</h5>
                <p>Столбчатая диаграмма демонстрирует прирост баллов по каждому предмету отдельно. Наибольший прирост наблюдается в письменной части экзамена.</p>
            </div>
        </div>
        
        <!-- Достижение цели -->
        <div class="visualization-card">
            <h3 class="mb-4">
                <i class="fas fa-bullseye me-2 text-info"></i>4. Достижение целевого показателя (60+ баллов)
            </h3>
            <div class="chart-container">
                <img src="data:image/png;base64,{{ visualizations.target_achievement }}" alt="Достижение цели" class="chart-image">
            </div>
            <div class="chart-description">
                <h5>Интерпретация:</h5>
                <p>Диаграмма показывает количество абитуриентов, достигших и не достигших целевого показателя в обеих группах. В группе с курсами значительно больше абитуриентов достигли 60+ баллов.</p>
            </div>
        </div>
        
        <!-- Корреляционная матрица -->
        <div class="visualization-card">
            <h3 class="mb-4">
                <i class="fas fa-project-diagram me-2 text-purple"></i>5. Корреляционная матрица
            </h3>
            <div class="chart-container">
                <img src="data:image/png;base64,{{ visualizations.correlation_matrix }}" alt="Корреляционная матрица" class="chart-image">
            </div>
            <div class="chart-description">
                <h5>Интерпретация:</h5>
                <p>Корреляционная матрица показывает взаимосвязи между переменными. Наибольшая корреляция наблюдается между оценками по разным предметам. Посещение курсов слабо коррелирует с баллами, что требует дополнительного анализа.</p>
            </div>
        </div>
        
        <!-- Ключевые выводы -->
        <div class="visualization-card">
            <h3 class="mb-4">
                <i class="fas fa-lightbulb me-2 text-warning"></i>Ключевые выводы из визуализаций
            </h3>
            <div class="row">
                <div class="col-md-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5><i class="fas fa-arrow-up text-success me-2"></i>Положительные эффекты</h5>
                            <ul>
                                <li>Подготовительные курсы повышают средний балл</li>
                                <li>Увеличивается вероятность достижения 60+ баллов</li>
                                <li>Результаты становятся более стабильными</li>
                                <li>Наибольший прирост в письменной части</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5><i class="fas fa-exclamation-triangle text-warning me-2"></i>Области для улучшения</h5>
                            <ul>
                                <li>Необходимо увеличить охват подготовительных курсов</li>
                                <li>Требуется адаптация программ для разных уровней подготовки</li>
                                <li>Важно учитывать социально-экономические факторы</li>
                                <li>Нужно развивать математическую подготовку</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .text-purple {
            color: #6f42c1 !important;
        }
    </style>
</body>
</html>